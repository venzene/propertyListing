<div class="card mb-4" style="background-color: '<%= property.colorTheme || '#fff' %>'; color: '<%= getTextColor(property.colorTheme) %>';">
  <div class="card-body">
    <h5 class="card-title"><%= property.title %></h5>
    <h6 class="card-subtitle mb-2"><%= property.type %> - <%= property.listingType.toUpperCase() %></h6>
    <p class="card-text">
      <strong>Price:</strong> â‚¹<%= property.price.toLocaleString() %> <br/>
      <strong>Location:</strong> <%= property.city %>, <%= property.state %> <br/>
      <strong>Area:</strong> <%= property.areaSqFt %> sq.ft <br/>
      <strong>Bedrooms:</strong> <%= property.bedrooms %>, <strong>Bathrooms:</strong> <%= property.bathrooms %> <br/>
      <strong>Furnished:</strong> <%= property.furnished %> <br/>
      <strong>Amenities:</strong> <%= property.amenities.join(', ') || 'None' %> <br/>
      <strong>Available From:</strong> <%= property.availableFrom.toDateString() %> <br/>
      <strong>Listed By:</strong> <%= property.listedBy %> <br/>
      <strong>Rating:</strong> <%= property.rating ? property.rating.toFixed(1) : 'No ratings' %> / 5 <br/>
      <strong>Verified:</strong> <%= property.isVerified ? 'Yes' : 'No' %> <br/>
      <strong>Tags:</strong> <%= property.tags.join(', ') || 'None' %>
    </p>
    <form action="/admin/update/<%= property._id %>" method="POST" class="mx-auto" style="max-width: 400px;">
      <button type="submit" class="btn btn-primary w-100">Edit</button>
    </form>
    <form action="/admin/delete/<%= property._id %>" method="POST" class="mx-auto" style="max-width: 400px;">
      <button type="submit" class="btn btn-primary w-100">Delete</button>
    </form>
  </div>
</div>

<% function getTextColor(bgColor) { 
  if (!bgColor) return '#000'; 
  // Simple check: if bgColor is dark, use white text, else black text
  const c = bgColor.substring(1); // remove #
  const rgb = parseInt(c, 16);   // convert to integer
  const r = (rgb >> 16) & 0xff;  // extract red
  const g = (rgb >> 8) & 0xff;   // extract green
  const b = (rgb >> 0) & 0xff;   // extract blue
  const brightness = (r * 299 + g * 587 + b * 114) / 1000;
  return brightness > 125 ? '#000' : '#fff';
} %>
